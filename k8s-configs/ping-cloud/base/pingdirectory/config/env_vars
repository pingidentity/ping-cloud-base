ORCHESTRATION_TYPE=kubernetes
#VERBOSE=true
SERVER_PROFILE_URL=https://github.com/pingidentity/ping-cloud-base.git
SERVER_PROFILE_PATH=profiles/aws/pingdirectory
SERVER_PROFILE_BRANCH=v1.9-release-branch

REGION=us-west-2
LOCATION=Austin

ROOT_USER_PASSWORD_FILE=/usr/local/secrets/root-user-password
ADMIN_USER_PASSWORD_FILE=/usr/local/secrets/admin-user-password
ENCRYPTION_PASSWORD_FILE=/usr/local/secrets/encryption-password
ADS_CRT_FILE=/usr/local/secrets/ads.crt
ADS_KEY_FILE=/usr/local/secrets/ads.key

USER_BACKEND_ID=userRoot
USER_BASE_DN=dc=example,dc=com
DISABLE_ALL_OLDER_USER_BASE_DN=true

REPLICATION_BASE_DNS=o=platformconfig;o=appintegrations
PAUSE_REPLICATION_BEFORE_RESTORE=true

LDAP_PORT=1389
LDAPS_PORT=1636
HTTPS_PORT=1443
REPLICATION_PORT=8989

MAX_HEAP_SIZE=1g

DISABLE_SCHEMA_REPLICATION=true
RETRY_TIMEOUT_SECONDS=300

K8S_STATEFUL_SET_NAME=pingdirectory
K8S_STATEFUL_SET_SERVICE_NAME=pingdirectory
K8S_ACME_CERT_SECRET_NAME=acme-tls-cert

BACKUP_FILE_NAME=
BACKUP_RESTORE_POD=pingdirectory-0
BACKENDS_TO_BACKUP=userRoot;appintegrations;platformconfig

ACCEPT_EULA=YES
PING_IDENTITY_ACCEPT_EULA=YES

LEAVE_DISK_AFTER_SERVER_DELETE=false
OPTIMIZE_REPLACE_PROFILE=true
INITIALIZE_REPLICATION_DATA=false

# Leave blank
TAIL_LOG_FILES=
# Individual files should be spelled out, globs are unreliable
K8S_TAIL_LOG_FILES=/opt/out/instance/logs/access /opt/out/instance/logs/change-notifications.log /opt/out/instance/logs/errors /opt/out/instance/logs/failed-ops /opt/out/instance/logs/expensive-write-ops /opt/out/instance/logs/replication

# This JSON file must exist for multi-region.
TOPOLOGY_DESCRIPTOR_JSON=/opt/staging/topology/descriptor.json
TOPOLOGY_DESCRIPTOR_PROFILES_JSON=/opt/staging/topology/descriptor-profiles.json

SECRETS_DIR=/usr/local/secrets

# FIXME: these are redundant across services - DRY
# wait-for-services
PA_CLUSTER_PRIVATE_HOSTNAME=pingaccess-admin
PA_CLUSTER_PORT=9090

PA_WAS_CLUSTER_PRIVATE_HOSTNAME=pingaccess-was-admin
PA_WAS_CLUSTER_PORT=9090

PF_CLUSTER_PRIVATE_HOSTNAME=pingfederate-cluster
PF_CLUSTER_PORT=7600

PD_CLUSTER_PRIVATE_HOSTNAME=pingdirectory
PD_CLUSTER_PORT=8989

TLS_TUNNEL_CIPHER_LIST=null
TLS_TUNNEL_VERSIONS=TLSv1.2

# DA Configuration
DA_IMPLICIT_GRANT_TYPE_CLIENT_ID=dadmin
DA_EXCLUSIVE_SCOPE_NAME=urn:pingidentity:directory-delegated-admin
DA_OAUTH_TOKEN_VALIDATOR_CLIENT_ID=dapingdirectory
DA_OAUTH_TOKEN_VALIDATOR_SECRET=2Federate
DA_PINGFEDERATE_ATV_NAME=DAPingFederateValidator
DA_PINGFEDERATE_INSTANCE_NAME=DAPingFederate
PINGFEDERATE_ENGINE_SERVER=pingfederate
PINGFEDERATE_ENGINE_PORT=9031